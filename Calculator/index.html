<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>SCSSRS ROI Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="SCSSRS ROI calculator for Texas homeowners and reps. Compare asphalt vs. Class-4 metal, insurance savings, claims avoided, and payback.">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="container">
  <h1>SCSSRS ROI Calculator</h1>
  <p class="sub">Estimate 15–20 year savings for a Class-4 metal roof vs. asphalt, including insurance discounts, deductible avoidance, and incentives.</p>
</header>

<main class="container grid">
  <section class="card">
    <h2>Inputs</h2>

    <div class="field">
      <label for="premium">Current annual premium ($)</label>
      <input id="premium" type="number" inputmode="decimal" min="0" step="100" value="3790">
    </div>

    <div class="field two">
      <div>
        <label for="growth">Annual premium trend (%)</label>
        <input id="growth" type="number" inputmode="decimal" min="0" max="20" step="0.5" value="5">
      </div>
      <div>
        <label for="years">Horizon (years)</label>
        <select id="years">
          <option value="15" selected>15</option>
          <option value="20">20</option>
        </select>
      </div>
    </div>

    <div class="field two">
      <div>
        <label for="coverage">Coverage A / Home value ($)</label>
        <input id="coverage" type="number" inputmode="decimal" min="0" step="10000" value="400000">
      </div>
      <div>
        <label for="deductiblePct">Wind/Hail deductible (% of Coverage A)</label>
        <input id="deductiblePct" type="number" inputmode="decimal" min="0" max="5" step="0.25" value="1">
      </div>
    </div>

    <div class="field">
      <label for="carrier">Carrier (default IR discount %)</label>
      <select id="carrier">
        <option value="custom">— enter custom —</option>
        <option value="State Farm|35">State Farm (35%)</option>
        <option value="Travelers|20">Travelers (20%)</option>
        <option value="USAA|15">USAA (15%)</option>
        <option value="Allstate|20">Allstate (20%)</option>
        <option value="Safeco|20">Safeco (20%)</option>
        <option value="Farmers|15">Farmers (15%)</option>
      </select>
    </div>

    <div class="field two">
      <div>
        <label for="discount">Impact-resistant (Class-4) discount (%)</label>
        <input id="discount" type="number" inputmode="decimal" min="0" max="50" step="1" value="35">
      </div>
      <div>
        <label for="claimsAvoided">Hail claims avoided (count over horizon)</label>
        <input id="claimsAvoided" type="number" inputmode="numeric" min="0" max="5" step="1" value="0">
      </div>
    </div>

    <fieldset class="field">
      <legend>Roof size & cost</legend>
      <div class="two">
        <div>
          <label for="squares">Roof size (squares, 1 sq = 100 ft²)</label>
          <input id="squares" type="number" inputmode="numeric" min="5" step="1" value="17">
        </div>
        <div>
          <label for="metalType">Metal type</label>
          <select id="metalType">
            <option value="standing">Standing seam</option>
            <option value="scs">Stone-coated steel</option>
          </select>
        </div>
      </div>

      <div class="two">
        <div>
          <label for="asphaltPerSq">Asphalt cost ($ / sq)</label>
          <input id="asphaltPerSq" type="number" inputmode="decimal" min="0" step="25" value="400">
        </div>
        <div>
          <label for="metalPerSq">Metal cost ($ / sq)</label>
          <input id="metalPerSq" type="number" inputmode="decimal" min="0" step="25" value="600">
        </div>
      </div>

      <div class="two">
        <div>
          <label for="incentives">Up-front incentives to metal ($)</label>
          <input id="incentives" type="number" inputmode="decimal" min="0" step="100" value="0">
        </div>
        <div>
          <label for="fortified">Add FORTIFIED upgrade cost ($)</label>
          <input id="fortified" type="number" inputmode="decimal" min="0" step="100" value="0">
        </div>
      </div>
    </fieldset>

    <div class="field two">
      <div>
        <label for="discountRate">Optional: Discount rate for NPV (%)</label>
        <input id="discountRate" type="number" inputmode="decimal" min="0" max="15" step="0.25" value="4">
      </div>
      <div class="hint tiny">Use your financing APR or personal discount rate. We’ll show NPV alongside nominal savings.</div>
    </div>

    <button id="calcBtn" class="primary">Calculate</button>
    <button id="shareBtn" class="ghost">Copy shareable link</button>
    <div id="shareNote" class="tiny" aria-live="polite"></div>
  </section>

  <section class="card results" aria-live="polite">
    <h2>Results</h2>

    <div class="kpigrid">
      <div class="kpi">
        <div class="kpi-label">Payback year</div>
        <div id="payback" class="kpi-value">—</div>
      </div>
      <div class="kpi">
        <div class="kpi-label">15-yr savings</div>
        <div id="save15" class="kpi-value">—</div>
      </div>
      <div class="kpi">
        <div class="kpi-label">20-yr savings</div>
        <div id="save20" class="kpi-value">—</div>
      </div>
      <div class="kpi">
        <div class="kpi-label">Incremental ROI (horizon)</div>
        <div id="roi" class="kpi-value">—</div>
      </div>
      <div class="kpi">
        <div class="kpi-label">NPV of savings</div>
        <div id="npv" class="kpi-value">—</div>
      </div>
      <div class="kpi">
        <div class="kpi-label">Delta CapEx (metal − asphalt)</div>
        <div id="deltaCapex" class="kpi-value">—</div>
      </div>
    </div>

    <canvas id="chart" width="900" height="360" role="img" aria-label="Cumulative savings over time"></canvas>

    <details class="tiny">
      <summary>Assumptions & method</summary>
      <ul>
        <li>Asphalt annual premium: P₀·(1+g)^t</li>
        <li>Metal annual premium: P₀·(1−d)·(1+g)^t</li>
        <li>Cumulative totals include Year-0 roof costs.</li>
        <li>“Claims avoided” adds deductible (Coverage·ded%) to asphalt column.</li>
        <li>Payback = first year when cumulative savings ≥ incremental investment.</li>
      </ul>
    </details>

    <p class="tiny disclaimer">
      This tool is for estimation only. Carrier discounts vary by policy/ZIP and are subject to underwriting. Incentive eligibility depends on program rules. This is not tax or insurance advice.
    </p>
  </section>
</main>

<footer class="container tiny">
  <p>© 2025 SCSSRS. Calculator MIT-licensed. <a href="https://github.com/justindbilyeu/SCSSRS" target="_blank" rel="noopener">GitHub Repository</a></p>
</footer>

<script src="script.js"></script>
</body>
</html>
